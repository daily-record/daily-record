# 语法分析-自上而下分析2



## 构造递归下降分析器



#### 递归下降分析器

- 分析程序由一组子程序组成， 对每一**语法单位(非终结符)**构造一个相应的子程序，识别对应的语法单位
- 通过子程序间的相互调用实现对输入串的识别，如 A → BcD
    - 子程序A调用子程序B识别B，若碰到D则调用子程序D进行识别
- 文法的定义通常是递归的，通常具有递归结构



#### 递归下降子程序设计

- 定义全局过程和变量
    - ADVANCE，把输入串指示器IP指向下一个输入符号，即读入一个单词符号
    - SYM，IP当前所指的输入符号
    - ERROR，出错处理子程序

![image-20200318184900365](F:\learning\note\编译原理\第八讲.assets\image-20200318184900365.png)





![image-20200318190438647](F:\learning\note\编译原理\第八讲.assets\image-20200318190438647.png)



上述两种E'的实现方式是等价的，什么都不做E'返回了，相当于E'得到正确的执行，即E'扩展成了ε

**不考虑Follow集合没有问题**：会被后续执行的子程序检查出来并报错（在检查候选的FIRST集合时发现这类遗留的错误）



![image-20200318192826102](F:\learning\note\编译原理\第八讲.assets\image-20200318192826102.png)





## 扩充的巴科斯范式



在元符号“→”或“::=”和“|”的基础上，扩 充几个元语言符号：

- 用花括号{ α}表示闭包运算 α*
- 用表示{ α } 0 n可任意重复0次至n次
- 用方括号[ α]表示{ α } 0 1，即表示 α的出现可有可无(等 价于 α|ε)

例如，通常的“实数”可定义为：

- Decimal→[Sign]Integer.{digit}[Exponent]
- Exponent→E[Sign]Integer
- Integer→digit{digit}
- Sign→ + | -

**用扩充的巴科斯范式来描述语法，直观易懂， 便于表示左递归消去和因子提取**



![image-20200318193810545](F:\learning\note\编译原理\第八讲.assets\image-20200318193810545.png)




